(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function i(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=i(o);fetch(o.href,r)}})();var te,p,De,Re,P,be,Ie,Fe,Me,de,ae,ue,W={},je=[],at=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ie=Array.isArray;function T(t,e){for(var i in e)t[i]=e[i];return t}function pe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ut(t,e,i){var n,o,r,s={};for(r in e)r=="key"?n=e[r]:r=="ref"?o=e[r]:s[r]=e[r];if(arguments.length>2&&(s.children=arguments.length>3?te.call(arguments,2):i),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)s[r]===void 0&&(s[r]=t.defaultProps[r]);return Y(t,s,n,o,null)}function Y(t,e,i,n,o){var r={type:t,props:e,key:i,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++De,__i:-1,__u:0};return o==null&&p.vnode!=null&&p.vnode(r),r}function q(t){return t.children}function F(t,e){this.props=t,this.context=e}function H(t,e){if(e==null)return t.__?H(t.__,t.__i+1):null;for(var i;e<t.__k.length;e++)if((i=t.__k[e])!=null&&i.__e!=null)return i.__e;return typeof t.type=="function"?H(t):null}function We(t){var e,i;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((i=t.__k[e])!=null&&i.__e!=null){t.__e=t.__c.base=i.__e;break}return We(t)}}function Se(t){(!t.__d&&(t.__d=!0)&&P.push(t)&&!J.__r++||be!=p.debounceRendering)&&((be=p.debounceRendering)||Ie)(J)}function J(){for(var t,e,i,n,o,r,s,u=1;P.length;)P.length>u&&P.sort(Fe),t=P.shift(),u=P.length,t.__d&&(i=void 0,n=void 0,o=(n=(e=t).__v).__e,r=[],s=[],e.__P&&((i=T({},n)).__v=n.__v+1,p.vnode&&p.vnode(i),ve(e.__P,i,n,e.__n,e.__P.namespaceURI,32&n.__u?[o]:null,r,o??H(n),!!(32&n.__u),s),i.__v=n.__v,i.__.__k[i.__i]=i,Ge(r,i,s),n.__e=n.__=null,i.__e!=o&&We(i)));J.__r=0}function qe(t,e,i,n,o,r,s,u,c,a,l){var _,h,f,w,$,b,v,m=n&&n.__k||je,O=e.length;for(c=ct(i,e,m,c,O),_=0;_<O;_++)(f=i.__k[_])!=null&&(h=f.__i==-1?W:m[f.__i]||W,f.__i=_,b=ve(t,f,h,o,r,s,u,c,a,l),w=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&me(h.ref,null,f),l.push(f.ref,f.__c||w,f)),$==null&&w!=null&&($=w),(v=!!(4&f.__u))||h.__k===f.__k?c=Ve(f,c,t,v):typeof f.type=="function"&&b!==void 0?c=b:w&&(c=w.nextSibling),f.__u&=-7);return i.__e=$,c}function ct(t,e,i,n,o){var r,s,u,c,a,l=i.length,_=l,h=0;for(t.__k=new Array(o),r=0;r<o;r++)(s=e[r])!=null&&typeof s!="boolean"&&typeof s!="function"?(c=r+h,(s=t.__k[r]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?Y(null,s,null,null,null):ie(s)?Y(q,{children:s},null,null,null):s.constructor==null&&s.__b>0?Y(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=t,s.__b=t.__b+1,u=null,(a=s.__i=ft(s,i,c,_))!=-1&&(_--,(u=i[a])&&(u.__u|=2)),u==null||u.__v==null?(a==-1&&(o>l?h--:o<l&&h++),typeof s.type!="function"&&(s.__u|=4)):a!=c&&(a==c-1?h--:a==c+1?h++:(a>c?h--:h++,s.__u|=4))):t.__k[r]=null;if(_)for(r=0;r<l;r++)(u=i[r])!=null&&(2&u.__u)==0&&(u.__e==n&&(n=H(u)),ze(u,u));return n}function Ve(t,e,i,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=Ve(o[r],e,i,n));return e}t.__e!=e&&(n&&(e&&t.type&&!e.parentNode&&(e=H(t)),i.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function ft(t,e,i,n){var o,r,s,u=t.key,c=t.type,a=e[i],l=a!=null&&(2&a.__u)==0;if(a===null&&t.key==null||l&&u==a.key&&c==a.type)return i;if(n>(l?1:0)){for(o=i-1,r=i+1;o>=0||r<e.length;)if((a=e[s=o>=0?o--:r++])!=null&&(2&a.__u)==0&&u==a.key&&c==a.type)return s}return-1}function $e(t,e,i){e[0]=="-"?t.setProperty(e,i??""):t[e]=i==null?"":typeof i!="number"||at.test(e)?i:i+"px"}function z(t,e,i,n,o){var r,s;e:if(e=="style")if(typeof i=="string")t.style.cssText=i;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)i&&e in i||$e(t.style,e,"");if(i)for(e in i)n&&i[e]==n[e]||$e(t.style,e,i[e])}else if(e[0]=="o"&&e[1]=="n")r=e!=(e=e.replace(Me,"$1")),s=e.toLowerCase(),e=s in t||e=="onFocusOut"||e=="onFocusIn"?s.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=i,i?n?i.u=n.u:(i.u=de,t.addEventListener(e,r?ue:ae,r)):t.removeEventListener(e,r?ue:ae,r);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=i??"";break e}catch{}typeof i=="function"||(i==null||i===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&i==1?"":i))}}function xe(t){return function(e){if(this.l){var i=this.l[e.type+t];if(e.t==null)e.t=de++;else if(e.t<i.u)return;return i(p.event?p.event(e):e)}}}function ve(t,e,i,n,o,r,s,u,c,a){var l,_,h,f,w,$,b,v,m,O,N,G,R,we,B,I,re,x=e.type;if(e.constructor!=null)return null;128&i.__u&&(c=!!(32&i.__u),r=[u=e.__e=i.__e]),(l=p.__b)&&l(e);e:if(typeof x=="function")try{if(v=e.props,m="prototype"in x&&x.prototype.render,O=(l=x.contextType)&&n[l.__c],N=l?O?O.props.value:l.__:n,i.__c?b=(_=e.__c=i.__c).__=_.__E:(m?e.__c=_=new x(v,N):(e.__c=_=new F(v,N),_.constructor=x,_.render=ht),O&&O.sub(_),_.props=v,_.state||(_.state={}),_.context=N,_.__n=n,h=_.__d=!0,_.__h=[],_._sb=[]),m&&_.__s==null&&(_.__s=_.state),m&&x.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=T({},_.__s)),T(_.__s,x.getDerivedStateFromProps(v,_.__s))),f=_.props,w=_.state,_.__v=e,h)m&&x.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),m&&_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(m&&x.getDerivedStateFromProps==null&&v!==f&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(v,N),!_.__e&&_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(v,_.__s,N)===!1||e.__v==i.__v){for(e.__v!=i.__v&&(_.props=v,_.state=_.__s,_.__d=!1),e.__e=i.__e,e.__k=i.__k,e.__k.some(function(L){L&&(L.__=e)}),G=0;G<_._sb.length;G++)_.__h.push(_._sb[G]);_._sb=[],_.__h.length&&s.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(v,_.__s,N),m&&_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(f,w,$)})}if(_.context=N,_.props=v,_.__P=t,_.__e=!1,R=p.__r,we=0,m){for(_.state=_.__s,_.__d=!1,R&&R(e),l=_.render(_.props,_.state,_.context),B=0;B<_._sb.length;B++)_.__h.push(_._sb[B]);_._sb=[]}else do _.__d=!1,R&&R(e),l=_.render(_.props,_.state,_.context),_.state=_.__s;while(_.__d&&++we<25);_.state=_.__s,_.getChildContext!=null&&(n=T(T({},n),_.getChildContext())),m&&!h&&_.getSnapshotBeforeUpdate!=null&&($=_.getSnapshotBeforeUpdate(f,w)),I=l,l!=null&&l.type===q&&l.key==null&&(I=Be(l.props.children)),u=qe(t,ie(I)?I:[I],e,i,n,o,r,s,u,c,a),_.base=e.__e,e.__u&=-161,_.__h.length&&s.push(_),b&&(_.__E=_.__=null)}catch(L){if(e.__v=null,c||r!=null)if(L.then){for(e.__u|=c?160:128;u&&u.nodeType==8&&u.nextSibling;)u=u.nextSibling;r[r.indexOf(u)]=null,e.__e=u}else{for(re=r.length;re--;)pe(r[re]);ce(e)}else e.__e=i.__e,e.__k=i.__k,L.then||ce(e);p.__e(L,e,i)}else r==null&&e.__v==i.__v?(e.__k=i.__k,e.__e=i.__e):u=e.__e=lt(i.__e,e,i,n,o,r,s,c,a);return(l=p.diffed)&&l(e),128&e.__u?void 0:u}function ce(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(ce)}function Ge(t,e,i){for(var n=0;n<i.length;n++)me(i[n],i[++n],i[++n]);p.__c&&p.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(r){r.call(o)})}catch(r){p.__e(r,o.__v)}})}function Be(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:ie(t)?t.map(Be):T({},t)}function lt(t,e,i,n,o,r,s,u,c){var a,l,_,h,f,w,$,b=i.props,v=e.props,m=e.type;if(m=="svg"?o="http://www.w3.org/2000/svg":m=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),r!=null){for(a=0;a<r.length;a++)if((f=r[a])&&"setAttribute"in f==!!m&&(m?f.localName==m:f.nodeType==3)){t=f,r[a]=null;break}}if(t==null){if(m==null)return document.createTextNode(v);t=document.createElementNS(o,m,v.is&&v),u&&(p.__m&&p.__m(e,r),u=!1),r=null}if(m==null)b===v||u&&t.data==v||(t.data=v);else{if(r=r&&te.call(t.childNodes),b=i.props||W,!u&&r!=null)for(b={},a=0;a<t.attributes.length;a++)b[(f=t.attributes[a]).name]=f.value;for(a in b)if(f=b[a],a!="children"){if(a=="dangerouslySetInnerHTML")_=f;else if(!(a in v)){if(a=="value"&&"defaultValue"in v||a=="checked"&&"defaultChecked"in v)continue;z(t,a,null,f,o)}}for(a in v)f=v[a],a=="children"?h=f:a=="dangerouslySetInnerHTML"?l=f:a=="value"?w=f:a=="checked"?$=f:u&&typeof f!="function"||b[a]===f||z(t,a,f,b[a],o);if(l)u||_&&(l.__html==_.__html||l.__html==t.innerHTML)||(t.innerHTML=l.__html),e.__k=[];else if(_&&(t.innerHTML=""),qe(e.type=="template"?t.content:t,ie(h)?h:[h],e,i,n,m=="foreignObject"?"http://www.w3.org/1999/xhtml":o,r,s,r?r[0]:i.__k&&H(i,0),u,c),r!=null)for(a=r.length;a--;)pe(r[a]);u||(a="value",m=="progress"&&w==null?t.removeAttribute("value"):w!=null&&(w!==t[a]||m=="progress"&&!w||m=="option"&&w!=b[a])&&z(t,a,w,b[a],o),a="checked",$!=null&&$!=t[a]&&z(t,a,$,b[a],o))}return t}function me(t,e,i){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(o){p.__e(o,i)}}function ze(t,e,i){var n,o;if(p.unmount&&p.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||me(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(r){p.__e(r,e)}n.base=n.__P=null}if(n=t.__k)for(o=0;o<n.length;o++)n[o]&&ze(n[o],e,i||typeof t.type!="function");i||pe(t.__e),t.__c=t.__=t.__e=void 0}function ht(t,e,i){return this.constructor(t,i)}function dt(t,e,i){var n,o,r,s;e==document&&(e=document.documentElement),p.__&&p.__(t,e),o=(n=!1)?null:e.__k,r=[],s=[],ve(e,t=e.__k=ut(q,null,[t]),o||W,W,e.namespaceURI,o?null:e.firstChild?te.call(e.childNodes):null,r,o?o.__e:e.firstChild,n,s),Ge(r,t,s)}te=je.slice,p={__e:function(t,e,i,n){for(var o,r,s;e=e.__;)if((o=e.__c)&&!o.__)try{if((r=o.constructor)&&r.getDerivedStateFromError!=null&&(o.setState(r.getDerivedStateFromError(t)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,n||{}),s=o.__d),s)return o.__E=o}catch(u){t=u}throw t}},De=0,Re=function(t){return t!=null&&t.constructor==null},F.prototype.setState=function(t,e){var i;i=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=T({},this.state),typeof t=="function"&&(t=t(T({},i),this.props)),t&&T(i,t),t!=null&&this.__v&&(e&&this._sb.push(e),Se(this))},F.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Se(this))},F.prototype.render=q,P=[],Ie=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Fe=function(t,e){return t.__v.__b-e.__v.__b},J.__r=0,Me=/(PointerCapture)$|Capture$/i,de=0,ae=xe(!1),ue=xe(!0);var pt=0;function k(t,e,i,n,o,r){e||(e={});var s,u,c=e;if("ref"in c)for(u in c={},e)u=="ref"?s=e[u]:c[u]=e[u];var a={type:t,props:c,key:i,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--pt,__i:-1,__u:0,__source:o,__self:r};if(typeof t=="function"&&(s=t.defaultProps))for(u in s)c[u]===void 0&&(c[u]=s[u]);return p.vnode&&p.vnode(a),a}const vt={id:"nhentai",name:"nHentai"},mt=Object.freeze(Object.defineProperty({__proto__:null,default:vt},Symbol.toStringTag,{value:"Module"})),yt={id:"pixiv",name:"Pixiv"},gt=Object.freeze(Object.defineProperty({__proto__:null,default:yt},Symbol.toStringTag,{value:"Module"}));var K,y,oe,ke,fe=0,Xe=[],g=p,Ee=g.__b,Te=g.__r,Oe=g.diffed,Ne=g.__c,Ce=g.unmount,Pe=g.__;function Ye(t,e){g.__h&&g.__h(y,t,fe||e),fe=0;var i=y.__H||(y.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function wt(t){return fe=1,bt(Ze,t)}function bt(t,e,i){var n=Ye(K++,2);if(n.t=t,!n.__c&&(n.__=[Ze(void 0,e),function(u){var c=n.__N?n.__N[0]:n.__[0],a=n.t(c,u);c!==a&&(n.__N=[a,n.__[1]],n.__c.setState({}))}],n.__c=y,!y.__f)){var o=function(u,c,a){if(!n.__c.__H)return!0;var l=n.__c.__H.__.filter(function(h){return!!h.__c});if(l.every(function(h){return!h.__N}))return!r||r.call(this,u,c,a);var _=n.__c.props!==u;return l.forEach(function(h){if(h.__N){var f=h.__[0];h.__=h.__N,h.__N=void 0,f!==h.__[0]&&(_=!0)}}),r&&r.call(this,u,c,a)||_};y.__f=!0;var r=y.shouldComponentUpdate,s=y.componentWillUpdate;y.componentWillUpdate=function(u,c,a){if(this.__e){var l=r;r=void 0,o(u,c,a),r=l}s&&s.call(this,u,c,a)},y.shouldComponentUpdate=o}return n.__N||n.__}function St(t,e){var i=Ye(K++,7);return kt(i.__H,e)&&(i.__=t(),i.__H=e,i.__h=t),i.__}function $t(){for(var t;t=Xe.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Z),t.__H.__h.forEach(le),t.__H.__h=[]}catch(e){t.__H.__h=[],g.__e(e,t.__v)}}g.__b=function(t){y=null,Ee&&Ee(t)},g.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Pe&&Pe(t,e)},g.__r=function(t){Te&&Te(t),K=0;var e=(y=t.__c).__H;e&&(oe===y?(e.__h=[],y.__h=[],e.__.forEach(function(i){i.__N&&(i.__=i.__N),i.u=i.__N=void 0})):(e.__h.forEach(Z),e.__h.forEach(le),e.__h=[],K=0)),oe=y},g.diffed=function(t){Oe&&Oe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Xe.push(e)!==1&&ke===g.requestAnimationFrame||((ke=g.requestAnimationFrame)||xt)($t)),e.__H.__.forEach(function(i){i.u&&(i.__H=i.u),i.u=void 0})),oe=y=null},g.__c=function(t,e){e.some(function(i){try{i.__h.forEach(Z),i.__h=i.__h.filter(function(n){return!n.__||le(n)})}catch(n){e.some(function(o){o.__h&&(o.__h=[])}),e=[],g.__e(n,i.__v)}}),Ne&&Ne(t,e)},g.unmount=function(t){Ce&&Ce(t);var e,i=t.__c;i&&i.__H&&(i.__H.__.forEach(function(n){try{Z(n)}catch(o){e=o}}),i.__H=void 0,e&&g.__e(e,i.__v))};var Ae=typeof requestAnimationFrame=="function";function xt(t){var e,i=function(){clearTimeout(n),Ae&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(i,35);Ae&&(e=requestAnimationFrame(i))}function Z(t){var e=y,i=t.__c;typeof i=="function"&&(t.__c=void 0,i()),y=e}function le(t){var e=y;t.__c=t.__(),y=e}function kt(t,e){return!t||t.length!==e.length||e.some(function(i,n){return i!==t[n]})}function Ze(t,e){return typeof e=="function"?e(t):e}var Et=Symbol.for("preact-signals");function ne(){if(C>1)C--;else{for(var t,e=!1;M!==void 0;){var i=M;for(M=void 0,he++;i!==void 0;){var n=i.o;if(i.o=void 0,i.f&=-3,!(8&i.f)&&Qe(i))try{i.c()}catch(o){e||(t=o,e=!0)}i=n}}if(he=0,C--,e)throw t}}function Tt(t){if(C>0)return t();C++;try{return t()}finally{ne()}}var d=void 0;function Je(t){var e=d;d=void 0;try{return t()}finally{d=e}}var M=void 0,C=0,he=0,Q=0;function Ke(t){if(d!==void 0){var e=t.n;if(e===void 0||e.t!==d)return e={i:0,S:t,p:d.s,n:void 0,t:d,e:void 0,x:void 0,r:e},d.s!==void 0&&(d.s.n=e),d.s=e,t.n=e,32&d.f&&t.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=d.s,e.n=void 0,d.s.n=e,d.s=e),e}}function S(t,e){this.v=t,this.i=0,this.n=void 0,this.t=void 0,this.W=e?.watched,this.Z=e?.unwatched,this.name=e?.name}S.prototype.brand=Et;S.prototype.h=function(){return!0};S.prototype.S=function(t){var e=this,i=this.t;i!==t&&t.e===void 0&&(t.x=i,this.t=t,i!==void 0?i.e=t:Je(function(){var n;(n=e.W)==null||n.call(e)}))};S.prototype.U=function(t){var e=this;if(this.t!==void 0){var i=t.e,n=t.x;i!==void 0&&(i.x=n,t.e=void 0),n!==void 0&&(n.e=i,t.x=void 0),t===this.t&&(this.t=n,n===void 0&&Je(function(){var o;(o=e.Z)==null||o.call(e)}))}};S.prototype.subscribe=function(t){var e=this;return V(function(){var i=e.value,n=d;d=void 0;try{t(i)}finally{d=n}},{name:"sub"})};S.prototype.valueOf=function(){return this.value};S.prototype.toString=function(){return this.value+""};S.prototype.toJSON=function(){return this.value};S.prototype.peek=function(){var t=d;d=void 0;try{return this.value}finally{d=t}};Object.defineProperty(S.prototype,"value",{get:function(){var t=Ke(this);return t!==void 0&&(t.i=this.i),this.v},set:function(t){if(t!==this.v){if(he>100)throw new Error("Cycle detected");this.v=t,this.i++,Q++,C++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{ne()}}}});function ye(t,e){return new S(t,e)}function Qe(t){for(var e=t.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function et(t){for(var e=t.s;e!==void 0;e=e.n){var i=e.S.n;if(i!==void 0&&(e.r=i),e.S.n=e,e.i=-1,e.n===void 0){t.s=e;break}}}function tt(t){for(var e=t.s,i=void 0;e!==void 0;){var n=e.p;e.i===-1?(e.S.U(e),n!==void 0&&(n.n=e.n),e.n!==void 0&&(e.n.p=n)):i=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=n}t.s=i}function A(t,e){S.call(this,void 0),this.x=t,this.s=void 0,this.g=Q-1,this.f=4,this.W=e?.watched,this.Z=e?.unwatched,this.name=e?.name}A.prototype=new S;A.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Q))return!0;if(this.g=Q,this.f|=1,this.i>0&&!Qe(this))return this.f&=-2,!0;var t=d;try{et(this),d=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(i){this.v=i,this.f|=16,this.i++}return d=t,tt(this),this.f&=-2,!0};A.prototype.S=function(t){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}S.prototype.S.call(this,t)};A.prototype.U=function(t){if(this.t!==void 0&&(S.prototype.U.call(this,t),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};A.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var t=this.t;t!==void 0;t=t.x)t.t.N()}};Object.defineProperty(A.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var t=Ke(this);if(this.h(),t!==void 0&&(t.i=this.i),16&this.f)throw this.v;return this.v}});function Le(t,e){return new A(t,e)}function it(t){var e=t.u;if(t.u=void 0,typeof e=="function"){C++;var i=d;d=void 0;try{e()}catch(n){throw t.f&=-2,t.f|=8,ge(t),n}finally{d=i,ne()}}}function ge(t){for(var e=t.s;e!==void 0;e=e.n)e.S.U(e);t.x=void 0,t.s=void 0,it(t)}function Ot(t){if(d!==this)throw new Error("Out-of-order effect");tt(this),d=t,this.f&=-2,8&this.f&&ge(this),ne()}function U(t,e){this.x=t,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=e?.name}U.prototype.c=function(){var t=this.S();try{if(8&this.f||this.x===void 0)return;var e=this.x();typeof e=="function"&&(this.u=e)}finally{t()}};U.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,it(this),et(this),C++;var t=d;return d=this,Ot.bind(this,t)};U.prototype.N=function(){2&this.f||(this.f|=2,this.o=M,M=this)};U.prototype.d=function(){this.f|=8,1&this.f||ge(this)};U.prototype.dispose=function(){this.d()};function V(t,e){var i=new U(t,e);try{i.c()}catch(o){throw i.d(),o}var n=i.d.bind(i);return n[Symbol.dispose]=n,n}var nt,_e,rt=[];V(function(){nt=this.N})();function D(t,e){p[t]=e.bind(null,p[t]||function(){})}function ee(t){_e&&_e(),_e=t&&t.S()}function ot(t){var e=this,i=t.data,n=Ct(i);n.value=i;var o=St(function(){for(var u=e,c=e.__v;c=c.__;)if(c.__c){c.__c.__$f|=4;break}var a=Le(function(){var f=n.value.value;return f===0?0:f===!0?"":f||""}),l=Le(function(){return!Array.isArray(a.value)&&!Re(a.value)}),_=V(function(){if(this.N=_t,l.value){var f=a.value;u.__v&&u.__v.__e&&u.__v.__e.nodeType===3&&(u.__v.__e.data=f)}}),h=e.__$u.d;return e.__$u.d=function(){_(),h.call(this)},[l,a]},[]),r=o[0],s=o[1];return r.value?s.peek():s.value}ot.displayName="ReactiveTextNode";Object.defineProperties(S.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:ot},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});D("__b",function(t,e){if(typeof e.type=="function"&&typeof window<"u"&&window.__PREACT_SIGNALS_DEVTOOLS__&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),typeof e.type=="string"){var i,n=e.props;for(var o in n)if(o!=="children"){var r=n[o];r instanceof S&&(i||(e.__np=i={}),i[o]=r,n[o]=r.peek())}}t(e)});D("__r",function(t,e){if(typeof e.type=="function"&&typeof window<"u"&&window.__PREACT_SIGNALS_DEVTOOLS__&&window.__PREACT_SIGNALS_DEVTOOLS__.enterComponent(e.type.displayName||e.type.name||"Unknown"),e.type!==q){ee();var i,n=e.__c;n&&(n.__$f&=-2,(i=n.__$u)===void 0&&(n.__$u=i=(function(o){var r;return V(function(){r=this}),r.c=function(){n.__$f|=1,n.setState({})},r})())),ee(i)}t(e)});D("__e",function(t,e,i,n){typeof window<"u"&&window.__PREACT_SIGNALS_DEVTOOLS__&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),ee(),t(e,i,n)});D("diffed",function(t,e){typeof e.type=="function"&&typeof window<"u"&&window.__PREACT_SIGNALS_DEVTOOLS__&&window.__PREACT_SIGNALS_DEVTOOLS__.exitComponent(),ee();var i;if(typeof e.type=="string"&&(i=e.__e)){var n=e.__np,o=e.props;if(n){var r=i.U;if(r)for(var s in r){var u=r[s];u!==void 0&&!(s in n)&&(u.d(),r[s]=void 0)}else r={},i.U=r;for(var c in n){var a=r[c],l=n[c];a===void 0?(a=Nt(i,c,l,o),r[c]=a):a.o(l,o)}}}t(e)});function Nt(t,e,i,n){var o=e in t&&t.ownerSVGElement===void 0,r=ye(i);return{o:function(s,u){r.value=s,n=u},d:V(function(){this.N=_t;var s=r.value.value;n[e]!==s&&(n[e]=s,o?t[e]=s:s?t.setAttribute(e,s):t.removeAttribute(e))})}}D("unmount",function(t,e){if(typeof e.type=="string"){var i=e.__e;if(i){var n=i.U;if(n){i.U=void 0;for(var o in n){var r=n[o];r&&r.d()}}}}else{var s=e.__c;if(s){var u=s.__$u;u&&(s.__$u=void 0,u.d())}}t(e)});D("__h",function(t,e,i,n){(n<3||n===9)&&(e.__$f|=2),t(e,i,n)});F.prototype.shouldComponentUpdate=function(t,e){var i=this.__$u,n=i&&i.s!==void 0;for(var o in e)return!0;if(this.__f||typeof this.u=="boolean"&&this.u===!0){var r=2&this.__$f;if(!(n||r||4&this.__$f)||1&this.__$f)return!0}else if(!(n||4&this.__$f)||3&this.__$f)return!0;for(var s in t)if(s!=="__source"&&t[s]!==this.props[s])return!0;for(var u in this.props)if(!(u in t))return!0;return!1};function Ct(t,e){return wt(function(){return ye(t,e)})[0]}var Pt=function(t){queueMicrotask(function(){queueMicrotask(t)})};function At(){Tt(function(){for(var t;t=rt.shift();)nt.call(t)})}function _t(){rt.push(this)===1&&(p.requestAnimationFrame||Pt)(At)}const j={};for(const[t,e]of Object.entries(Object.assign({"./drivers/nhentai.ts":mt,"./drivers/pixiv.ts":gt}))){const i=e.default;j[i.id]=i}function X(t,e){return localStorage.hasOwnProperty("reduceTransparency")?localStorage.getItem(t):e}const se=ye({driver:X("driver",Object.keys(j)[0]),source:X("source",""),resolution:parseFloat(X("resolution","1")),reduceTransparency:X("reduceTransparency","false")==="true"}),Lt=()=>k("nav",{class:se.value.reduceTransparency?void 0:"glassy",style:{display:"flex",alignItems:"center",backgroundColor:se.value.reduceTransparency?"var(--color-container-medium)":"color-mix(in srgb, var(--color-container-medium), transparent 25%)",left:"0rem",top:"0rem",width:"100%",height:"3.5rem"},children:[k("h2",{style:{textWrap:"nowrap",marginLeft:"var(--spacing-medium)",marginRight:"var(--spacing-medium)",userSelect:"none"},children:"Dataset Editor"}),k("button",{style:{marginRight:"var(--spacing-medium)",cursor:"pointer"},children:"Help"}),k("button",{style:{marginRight:"var(--spacing-medium)",cursor:"pointer"},children:"Settings"}),k("div",{style:"flex: 1"}),k("select",{style:{marginRight:"var(--spacing-small)"},children:Object.keys(j).map(t=>k("option",{value:j[t].id,selected:t===se.value.driver?!0:void 0,children:j[t].name}))}),k("input",{autocomplete:"off",style:{width:"7.5rem",marginRight:"var(--spacing-small)"}}),k("button",{style:{marginRight:"var(--spacing-medium)",cursor:"pointer"},children:"Entries"})]});class He{static mouse={clicked:!1,pressed:!1,editorX:0,editorY:0,imageX:0,imageY:0};static keyboard={};static update(e){}}class Ht{static canvas=document.createElement("canvas");static ctx=this.canvas.getContext("2d");static image=null;static timestamp=0;static updateTransform(){if(this.image!==null){const e=E.canvas.width/E.canvas.height,i=this.image.element.width/this.image.element.height;let n,o;i>e?(n=E.canvas.width,o=E.canvas.width/i):(n=E.canvas.height*i,o=E.canvas.height),n*=.9,o*=.9,this.image.transform={x:(E.canvas.width-n)/2,y:(E.canvas.height-o)/2,width:n,height:o,widthScale:n/this.image.element.width,heightScale:o/this.image.element.height}}}static async next(){this.image,performance.now(),this.image=null,this.timestamp=performance.now()}}class E{static canvas=document.getElementById("canvas-main");static ctx=this.canvas.getContext("2d");static xOffset=0;static yOffset=0;static camera={x:0,xSpeed:0,y:0,ySpeed:0,scale:1,scaleSpeed:0};static resize(){const e=this.canvas.getBoundingClientRect();this.canvas.width=e.width*settings.resolution,this.canvas.height=e.height*settings.resolution,this.xOffset=e.left,this.yOffset=e.top,Image.resize()}static render(e){const i=this.camera.x,n=this.camera.y,o=this.camera.scale;this.camera.scale*=1+this.camera.scaleSpeed;const r=i+He.mouse.editorX/o,s=n+He.mouse.editorY/o,u=this.camera.scale/o;this.camera.x=r+(i-r)/u,this.camera.y=s+(n-s)/u,this.camera.x+=this.camera.xSpeed/this.camera.scale,this.camera.y+=this.camera.ySpeed/this.camera.scale,this.camera.xSpeed*=.8,this.camera.ySpeed*=.8,this.camera.scaleSpeed*=.8}}dt(k(Lt,{}),document.getElementById("container-navbar"));let Ue=performance.now();function st(){const t=performance.now()-Ue;E.render(t),Ue=performance.now(),requestAnimationFrame(st)}st();
