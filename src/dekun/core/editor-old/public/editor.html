<!DOCTYPE html>

<html>
  <head>
    <meta charset="UTF-8">

    <title>Dataset Editor</title>

    <link rel="stylesheet" href="./editor.css">
  </head>

  <body style="background-color: var(--color-background); width: 100dvw; height: 100dvh; margin: 0rem; overflow: hidden">
    <div style="display: flex; align-items: center; background-color: var(--color-container-medium); left: 0rem; top: 0rem; width: 100dvw; height: 3.5rem">
      <h2 style="text-wrap: nowrap; margin-left: var(--spacing-medium); margin-right: var(--spacing-medium)">Dataset Editor</h2>
      <button id="button-help" style="margin-right: var(--spacing-medium); cursor: pointer">Help</button>
      <button id="button-settings" style="margin-right: var(--spacing-medium); cursor: pointer">Settings</button>
      <button id="button-all" style="margin-right: var(--spacing-medium); cursor: pointer">All</button>
      <p id="text-duplicate" style="display: none; margin-right: var(--spacing-medium)">[Duplicate]</p>

      <div style="flex: 1"></div>

      <select id="select-provider" style="margin-right: var(--spacing-small)">
        <option value="pixiv">Pixiv</option>
        <option value="nHentai">nHentai</option>
      </select>

      <input id="input-source" autocomplete="off" style="width: 7.5rem; margin-right: var(--spacing-medium)">
    </div>

    <canvas id="canvas-main" oncontextmenu="return false" style="width: 100dvw; height: calc(100dvh - 3.5rem)"></canvas>
    
    <div id="container-help" style="position: fixed; display: none; background-color: var(--color-container-dark); border-radius: 0.5rem; left: 1rem; top: 4.5rem; max-height: calc(100dvh - 7.5rem); padding: var(--spacing-medium); overflow-y: auto;">
      <p style="margin-bottom: var(--spacing-medium)">
        <span class="key">W</span>
        <span class="key">A</span>
        <span class="key">S</span>
        <span class="key">D</span>
        to move.
      </p>

      <p style="margin-bottom: var(--spacing-medium)">
        <span class="key">E</span>
        to zoom in,
        <span class="key">Q</span>
        to zoom out.
      </p>

      <p style="margin-bottom: var(--spacing-large)">
        <span class="key">R</span>
        to reset the camera.
      </p>

      <p style="margin-bottom: var(--spacing-medium)">
        <span class="key">1</span>
        <span class="key">2</span>
        <span class="key">3</span>
        to switch stroke type.
      </p>

      <ul style="padding-left: var(--spacing-large); margin-bottom: var(--spacing-medium)">
       <li style="margin-bottom: var(--spacing-medium)">
        <span class="key">1</span>
        Line with sharp cap.
       </li>

       <li style="margin-bottom: var(--spacing-medium)">
        <span class="key">2</span>
        Line with round cap.
       </li>

       <li>
        <span class="key">3</span>
        Points to make a shape.
       </li>
      </ul>

      <p style="margin-bottom: var(--spacing-large)">
        <span class="key">X</span>
        to delete the last stroke or point.
      </p>

      <p style="margin-bottom: var(--spacing-medium)">
        <span class="key">Left Click</span>
        to draw.
      </p>

      <p style="margin-bottom: var(--spacing-medium)">
        <span class="key">Right Click</span>
        depends on the stroke type.
      </p>

      <ul style="padding-left: var(--spacing-large); margin-bottom: var(--spacing-medium)">
       <li style="margin-bottom: var(--spacing-medium)">
        <span class="key">1</span>
        <span class="key">2</span>
        Continue from the end of the last stroke.
       </li>

       <li>
        <span class="key">3</span>
        Complete the shape.
       </li>
      </ul>

      <p style="margin-bottom: var(--spacing-medium)">
        <span class="key">Mouse Wheel</span>
        <span class="key">-</span>
        <span class="key">+</span>
        change the stroke size.
      </p>

      <p style="margin-bottom: var(--spacing-large)">
        <span class="key">F</span>
        change the stroke opacity.
      </p>
      
      <p>
        <span class="key">Z</span>
        to skip,
        <span class="key">C</span>
        to submit the current image.
      </p>
    </div>

    <div id="container-settings" style="position: fixed; display: none; flex-direction: column; background-color: var(--color-container-dark); border-radius: 0.5rem; left: 1em; top: 4.5rem; max-height: calc(100dvh - 7.5rem); padding: var(--spacing-medium); overflow-y: auto">
      <div style="display: flex; align-items: center; gap: var(--spacing-small); margin-bottom: var(--spacing-small)">
        <p>Random Mode (Disable Manual):</p>
        <input id="input-random" type="checkbox">
      </div>

      <div style="display: flex; align-items: center; gap: var(--spacing-small); margin-bottom: var(--spacing-small)">
        <p>Resolution:</p>
        <input id="input-resolution" type="range" step="0.1" min="0.5" max="2" value="1">
        <p id="text-resolution">1</p>
      </div>

      <div style="display: flex; align-items: center; gap: var(--spacing-small)">
        <p>Control Speed:</p>
        <input id="input-speed" type="range" step="0.1" min="0.1" max="2" value="1">
        <p id="text-speed">1</p>
      </div>
    </div>

    <div id="container-all" style="position: fixed; display: none; flex-direction: column; background-color: var(--color-container-dark); border-radius: 0.5rem; right: 1rem; top: 4.5rem; max-height: calc(100dvh - 7.5rem); overflow: hidden">
      <div style="display: flex; align-items: center; background-color: var(--color-container-medium); padding: var(--spacing-medium)">
        <h5 id="text-total" style="flex: 1; margin-right: var(--spacing-medium)">0 Entries</h5>
        <button id="button-reload">Reload</button>
      </div>

      <div id="container-entries" style="display: grid; grid-template-columns: 1fr 1fr; column-gap: var(--spacing-medium); padding: var(--spacing-medium); overflow-y: auto"></div>
    </div> 

    <script type="module" src="./editor.js"></script>
  </body>
</html>
